<!DOCTYPE html>
<html>
<head>
<title>simple swiper</title>
<meta name="viewport" content="width=device-width, user-scalable=no">
<style>
body {margin:0;}
html,body {width:100%; height:100%;}
.container{width:100%; height:100%; overflow: hidden;}
.box {width:100%; height:100%; text-align: center; vertical-align:middle;}
.pager {position: fixed; right: 15px; top: 15px; z-index: 11;}
</style>
<script src="http://apps.bdimg.com/libs/jquery/1.11.3/jquery.min.js"></script>
</head>
<body>

<div class="container">
    <div class="box">1</div>
    <div class="box">2</div>
    <div class="box">3</div>
    <div class="box">4</div>
    <div class="box">5</div>
</div>
<div class="pager"><span id="thepage"></span>/<span id="pagelength"></span></div>

<script type="text/javascript">

var winW = window.innerWidth,
    winH = window.innerHeight,
    box = document.querySelectorAll('.box');

var boxLength = box.length;
var xStart,xEnd,yStart,yEnd;

//init page tips
var pageCount = document.querySelector('#pagelength');
var thepage = document.querySelector('#thepage');
pageCount.innerHTML = boxLength ;
thepage.innerHTML = 1;

for (var i = boxLength - 1; i >= 0; i--) {
    //box[i].style.height = winH+'px';
    box[i].style.zIndex = i+1;
    box[i].dataset.index = i;

    box[i].addEventListener('touchstart', handleTouchEvent, false);
    box[i].addEventListener('mousedown', handleTouchEvent, false);
    box[i].addEventListener('touchend', handleTouchEvent, false);
    box[i].addEventListener('mouseup', handleTouchEvent, false);
    box[i].addEventListener('touchmove', handleTouchEvent, false);
    box[i].addEventListener('mousemove', handleTouchEvent, false);

}

//$('body').on("touchstart touchend touchmove mousedown mouseup mousemove",'.box',handleTouchEvent);

//swipe event
function handleTouchEvent(event){
    //if (event.touches.length == 1 || event.touches.length == 0){
    //console.log(event);
    //event = event.originalEvent; //jquery对象事件还原为javascript native event
    //console.log(event.type,this);
    switch(event.type){
        case "touchstart":
            xStart = event.touches[0].clientX;
            yStart = event.touches[0].clientY;
            //console.log(xStart,yStart);
            break;
        case "touchend":
            xEnd = event.changedTouches[0].clientX;
            yEnd = event.changedTouches[0].clientY;
            var theBox = this;
            swipehadle(theBox,xStart,xEnd,yStart,yEnd);
            break;
        case "mousedown":
            xStart = event.clientX;
            yStart = event.clientY;
            //console.log(xStart,yStart);
            break;
        case "mouseup":
            xEnd = event.clientX;
            yEnd = event.clientY;
            var theBox = this;
            swipehadle(theBox,xStart,xEnd,yStart,yEnd);
            break;
        case "touchmove":
            event.preventDefault();
            break;
        case "mousemove":
            event.preventDefault();
            break;
    }
}

function swipehadle(thebox,xStart,xEnd,yStart,yEnd){
    var horizontalDistance = xEnd-xStart;
    var verticalDistance = yEnd-yStart;
    //console.log(xEnd,yEnd);

    if(verticalDistance>30){
        console.log('下划');

    }else if(verticalDistance<-30){
        console.log('上划');

    }

    if(horizontalDistance>30){
        console.log('右划');
    }else if(horizontalDistance<-30){
        console.log('左划');
    }
}

</script>
</body>
</html>
